{"version":3,"sources":["images/logo.svg","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/ImagePopup.js","utils/Api.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/App.js","index.js"],"names":["Header","className","src","Logo","alt","currentUserContext","React","createContext","Card","props","currentUser","useContext","isOwn","card","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","style","backgroundImage","link","name","onClick","onCardClick","onCardDelete","type","onCardLike","id","length","Main","onEditAvatar","avatar","backgroundPosition","backgroundRepeat","backgroundSize","onEditProfile","about","onAddPlace","cards","map","ownerId","Footer","date","Date","getFullYear","ImagePopup","openedPopupSelector","onClose","api","options","this","_url","url","_headers","headers","res","ok","json","Promise","reject","status","fetch","method","then","_getResponse","data","body","JSON","stringify","authorization","PopupWithForm","isOpen","onSubmit","noValidate","title","children","isLoading","EditProfilePopup","useState","setName","description","setDescription","useEffect","undefined","e","preventDefault","onUpdateUser","placeholder","minLength","maxLength","value","onChange","target","required","EditAvatarPopup","avatarRef","useRef","onUpdateAvatar","current","ref","AddPlacePopup","setLink","App","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","selectedCard","setSelectedCard","setCurrentUser","setCards","setIsLoading","closeAllPopups","all","getUserData","getInitialCards","values","userData","initialCards","catch","err","console","log","handleESCclose","evt","key","document","addEventListener","removeEventListener","Provider","changeLikeCardStatus","newCard","newCards","c","deleteCard","newArr","filter","setUserInfo","addCards","setUserAvatar","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.4e29bce0.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.c2821b38.svg\";","import React from \"react\";\r\nimport Logo from \"../images/logo.svg\";\r\n\r\nfunction Header() {\r\n  return (\r\n    <header className=\"header\">\r\n      <img className=\"header__logo\" src={Logo} alt=\"логотип\" />\r\n    </header>\r\n  );\r\n}\r\n\r\nexport default Header;\r\n","import React from 'react';\r\n\r\nconst currentUserContext = React.createContext();\r\n\r\nexport default currentUserContext;\r\n","import React from \"react\";\r\nimport currentUserContext from '../contexts/CurrentUserContext';\r\n\r\nfunction Card(props) {\r\n\tconst currentUser = React.useContext(currentUserContext);\r\n\r\n\tconst isOwn = props.card.owner._id === currentUser._id;\r\n\tconst cardDeleteButtonClassName = (\r\n\t\t`element__delete ${isOwn ? 'element__delete-active' : ''}`\r\n\t\t);\r\n\t\t\r\n\tconst isLiked = props.card.likes.some(i => i._id === currentUser._id);\r\n\tconst cardLikeButtonClassName = `element__like ${isLiked ? 'element__like_active' : ''}`;\r\n\t\r\n\r\n\tfunction handleCardClick() {\r\n    props.onCardClick(props.card);\r\n\t}\r\n\r\n\tfunction handleLikeClick() {\r\n\t\tprops.onCardLike(props.card);\r\n\t}\r\n\r\n\tfunction handleDeleteClick() {\r\n\t\tprops.onCardDelete(props.card);\r\n\t}\r\n\t\r\n  return (\r\n    <li className=\"element\" key={props.card._id}>\r\n      <img\r\n        className=\"element__image\"\r\n        style={{ backgroundImage: `url(${props.link})` }}\r\n        src={props.link}\r\n        alt={props.name}\r\n        card={props.card}\r\n        onClick={handleCardClick}\r\n      />\r\n      <button className={cardDeleteButtonClassName} onClick={handleDeleteClick} type=\"reset\" />\r\n      <div className=\"element__name\">\r\n        <h2 className=\"element__title\">{props.name}</h2>\r\n        <div className=\"element__container\">\r\n          <button className={cardLikeButtonClassName} onClick={handleLikeClick} key={props.id} type=\"button\" />\r\n          <div className=\"element__counter\">{props.likes.length}</div>\r\n        </div>\r\n      </div>\r\n    </li>\r\n  );\r\n}\r\n\r\nexport default Card;\r\n","import React from \"react\";\r\nimport Card from \"../components/Card.js\";\r\nimport currentUserContext from \"../contexts/CurrentUserContext\";\r\n\r\nfunction Main(props) {\r\n  const currentUser = React.useContext(currentUserContext);\r\n\r\n  return (\r\n    <main className=\"content\">\r\n      <section className=\"profile\">\r\n        <div className=\"profile__cont\" onClick={props.onEditAvatar}>\r\n          <div\r\n            className=\"profile__avatar\"\r\n            style={{\r\n              backgroundImage: `url(${currentUser.avatar})`,\r\n              backgroundPosition: \"center\",\r\n              backgroundRepeat: \"no-repeat\",\r\n              backgroundSize: \"cover\",\r\n            }}\r\n          />\r\n          <div className=\"profile__icon\"></div>\r\n        </div>\r\n        <div className=\"profile__container\">\r\n          <div className=\"profile__wrapper\">\r\n            <div className=\"profile__info\">\r\n              <h1 className=\"profile__name\">{currentUser.name}</h1>\r\n              <button\r\n                className=\"edit-button\"\r\n                type=\"button\"\r\n                onClick={props.onEditProfile}\r\n              />\r\n            </div>\r\n            <p className=\"profile__about\">{currentUser.about}</p>\r\n          </div>\r\n          <button\r\n            className=\"add-button\"\r\n            type=\"button\"\r\n            onClick={props.onAddPlace}\r\n          />\r\n        </div>\r\n      </section>\r\n      <section className=\"elements\">\r\n        <ul className=\"elements__container\">\r\n          {props.cards.map((card) => (\r\n            <Card\r\n              card={card}\r\n              name={card.name}\r\n              link={card.link}\r\n              likes={card.likes}\r\n              ownerId={card.owner._id}\r\n              key={card._id}\r\n              onCardClick={props.onCardClick}\r\n              onCardLike={props.onCardLike}\r\n              onCardDelete={props.onCardDelete}\r\n              id={card.id}\r\n            />\r\n          ))}\r\n        </ul>\r\n      </section>\r\n    </main>\r\n  );\r\n}\r\n\r\nexport default Main;\r\n","import React from \"react\";\r\n\r\nfunction Footer() {\r\n\tconst date = new Date();\r\n\r\n  return (\r\n    <footer className=\"footer\">\r\n      <p className=\"footer__copyright\">&copy; {date.getFullYear()} Mesto Russia</p>\r\n    </footer>\r\n  );\r\n}\r\n\r\nexport default Footer;\r\n","import React from \"react\";\r\n\r\nfunction ImagePopup(props) {\r\n  const openedPopupSelector = props.card.link ? \"popup_opened\" : \"\";\r\n  return (\r\n    <section className={`popup popup-image ${openedPopupSelector}`}>\r\n      <div className=\"popup-image__container\">\r\n        <button\r\n          className=\"popup__close popup-image__close\"\r\n          type=\"button\"\r\n          onClick={props.onClose}\r\n        />\r\n        <figure>\r\n          <img\r\n            className=\"popup-image__img\"\r\n            src={props.card.link}\r\n            alt={props.card.name}\r\n          />\r\n          <figcaption className=\"popup-image__title\">\r\n            {props.card.name}\r\n          </figcaption>\r\n        </figure>\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default ImagePopup;\r\n","class Api {\r\n  constructor(options) {\r\n    this._url = options.url;\r\n    this._headers = options.headers;\r\n  }\r\n\r\n  _getResponse(res) {\r\n    return res.ok ? res.json() : Promise.reject(`Ошибка: ${res.status}`);\r\n  }\r\n\r\n  getUserData() {\r\n    return fetch(`${this._url}${\"users\"}/${\"me\"}`, {\r\n      method: \"GET\",\r\n      headers: this._headers,\r\n    }).then(this._getResponse);\r\n  }\r\n\r\n  getInitialCards() {\r\n    return fetch(`${this._url}${\"cards\"}`, {\r\n      method: \"GET\",\r\n      headers: this._headers,\r\n    }).then(this._getResponse);\r\n  }\r\n\r\n  changeLikeCardStatus(data, isLiked) {\r\n    if (isLiked) {\r\n      return fetch(`${this._url}${\"cards\"}/${\"likes\"}/${data._id}`, {\r\n        method: \"PUT\",\r\n        headers: this._headers,\r\n        body: JSON.stringify(data),\r\n      }).then(this._getResponse);\r\n    } else {\r\n      return fetch(`${this._url}${\"cards\"}/${\"likes\"}/${data._id}`, {\r\n        method: \"DELETE\",\r\n        headers: this._headers,\r\n      }).then(this._getResponse);\r\n    }\r\n  }\r\n\r\n  deleteCard(data) {\r\n    return fetch(`${this._url}${\"cards\"}/${data._id}`, {\r\n      method: \"DELETE\",\r\n      headers: this._headers,\r\n    }).then(this._getResponse);\r\n  }\r\n\r\n  setUserInfo({ name, about }) {\r\n    return fetch(`${this._url}${\"users\"}/${\"me\"}`, {\r\n      method: \"PATCH\",\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        name,\r\n        about,\r\n      }),\r\n    }).then(this._getResponse);\r\n  }\r\n\r\n  setUserAvatar({ avatar }) {\r\n    return fetch(`${this._url}${\"users\"}/${\"me\"}/${\"avatar\"}`, {\r\n      method: \"PATCH\",\r\n      headers: this._headers,\r\n      body: JSON.stringify({ avatar }),\r\n    }).then(this._getResponse);\r\n  }\r\n\r\n  addCards({ name, link }) {\r\n    return fetch(`${this._url}${\"cards\"}`, {\r\n      method: \"POST\",\r\n      headers: this._headers,\r\n      body: JSON.stringify({ name, link }),\r\n    }).then(this._getResponse);\r\n  }\r\n}\r\n\r\nconst api = new Api({\r\n  url: \"https://mesto.nomoreparties.co/v1/cohort-16/\",\r\n  headers: {\r\n    authorization: \"90f4c0de-1eee-42e7-8058-3892f79789d8\",\r\n    \"Content-Type\": \"application/json\",\r\n  },\r\n});\r\n\r\nexport default api;\r\n","import React from \"react\";\r\n\r\nfunction PopupWithForm(props) {\r\n  return (\r\n    <section\r\n      className={`popup ${props.isOpen ? \"popup_opened\" : \"\"}`}\r\n      id={props.name}\r\n    >\r\n      <div className=\"popup__container\">\r\n        <button\r\n          className=\"popup__close\"\r\n          type=\"button\"\r\n          onClick={props.onClose}\r\n        />\r\n        <form\r\n          className=\"form\"\r\n          id={props.id}\r\n          onSubmit={props.onSubmit}\r\n          noValidate\r\n        >\r\n          <div className=\"form__container\">\r\n            <h2 className=\"form__heading\">{props.title}</h2>\r\n            <fieldset className=\"form__input-container\">\r\n              {props.children}\r\n              <div className=\"form__handlers\">\r\n                <button className=\"submit__button\" type=\"submit\">\r\n                  {props.isLoading}\r\n                </button>\r\n              </div>\r\n            </fieldset>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default PopupWithForm;\r\n","import React from \"react\";\r\nimport currentUserContext from \"../contexts/CurrentUserContext\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nfunction EditProfilePopup(props) {\r\n  const currentUser = React.useContext(currentUserContext);\r\n  const [name, setName] = React.useState(\"\");\r\n  const [description, setDescription] = React.useState(\"\");\r\n\r\n  React.useEffect(() => {\r\n    if (currentUser.name !== undefined) {\r\n      setName(currentUser.name);\r\n      setDescription(currentUser.about);\r\n    }\r\n  }, [currentUser]);\r\n\r\n  function handleChangeName(e) {\r\n    setName(e.target.value);\r\n  }\r\n\r\n  function handleChangeDescription(e) {\r\n    setDescription(e.target.value);\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    props.onUpdateUser({\r\n      name,\r\n      about: description,\r\n    });\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      name=\"popupProfile\"\r\n      id=\"form-edit\"\r\n      title=\"Редактировать профиль\"\r\n      isLoading={props.isLoading ? \"Сохранение...\" : \"Сохранить\"}\r\n      isOpen={props.isOpen}\r\n      onClose={props.onClose}\r\n      onSubmit={handleSubmit}\r\n    >\r\n      <label className=\"form__field\">\r\n        <input\r\n          id=\"name-input\"\r\n          className=\"form__item form__item_name\"\r\n          type=\"text\"\r\n          placeholder=\"Имя\"\r\n          minLength=\"2\"\r\n          maxLength=\"40\"\r\n          value={name}\r\n          onChange={handleChangeName}\r\n          required\r\n        />\r\n        <span id=\"name-input-error\" className=\"form__item-error\" />\r\n      </label>\r\n      <label className=\"form__field form__field-info\">\r\n        <input\r\n          id=\"about-input\"\r\n          className=\"form__item form__item_about\"\r\n          type=\"text\"\r\n          placeholder=\"О себе\"\r\n          minLength=\"2\"\r\n          maxLength=\"200\"\r\n          value={description}\r\n          onChange={handleChangeDescription}\r\n          required\r\n        />\r\n        <span id=\"about-input-error\" className=\"form__item-error\" />\r\n      </label>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default EditProfilePopup;\r\n","import React from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nfunction EditAvatarPopup(props) {\r\n  const avatarRef = React.useRef();\r\n\r\n  function handleChangeAvatar() {\r\n    return avatarRef.current.value;\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    props.onUpdateAvatar({\r\n      avatar: avatarRef.current.value,\r\n      value: avatarRef.current.value,\r\n    });\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      name=\"popupAvatar\"\r\n      id=\"form-avatar\"\r\n      title=\"Обновить аватар\"\r\n      isLoading={props.isLoading ? \"Сохранение...\" : \"Сохранить\"}\r\n      isOpen={props.isOpen}\r\n      onClose={props.onClose}\r\n      onSubmit={handleSubmit}\r\n    >\r\n      <label className=\"form__field form__field-info\">\r\n        <input\r\n          id=\"url-input\"\r\n          className=\"form__item form__item_avatar form__item_link\"\r\n          type=\"url\"\r\n          name=\"link\"\r\n          placeholder=\"Ссылка на картинку\"\r\n          ref={avatarRef}\r\n          onChange={handleChangeAvatar}\r\n          required\r\n        />\r\n        <span id=\"url-input-error\" className=\"form__item-error\" />\r\n      </label>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default EditAvatarPopup;\r\n","import React from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nfunction AddPlacePopup(props) {\r\n  const [name, setName] = React.useState('');\r\n  const [link, setLink] = React.useState('');\r\n\r\n\tfunction handleAddTitle(e) {\r\n    setName(e.target.value);\r\n  }\r\n\r\n\tfunction handleAddLink(e) {\r\n      setLink(e.target.value);\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n\t\te.preventDefault();\r\n    props.onAddPlace({\r\n      name,\r\n      link\r\n\t\t});\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      name=\"popupPlace\"\r\n      id=\"form-card\"\r\n      title=\"Новое место\"\r\n      isLoading={props.isLoading ? \"Создание...\" : \"Создать\"}\r\n      isOpen={props.isOpen}\r\n      onClose={props.onClose}\r\n      onSubmit={handleSubmit}\r\n    >\r\n      <label className=\"form__field\">\r\n        <input\r\n          id=\"title-input\"\r\n          className=\"form__item form__item_title\"\r\n          type=\"text\"\r\n          name=\"title\"\r\n          placeholder=\"Название\"\r\n          minLength=\"1\"\r\n          maxLength=\"30\"\r\n          value={name}\r\n\t\t\t\t\tonChange={handleAddTitle}\r\n          required\r\n        />\r\n        <span id=\"title-input-error\" className=\"form__item-error\" />\r\n      </label>\r\n      <label className=\"form__field form__field-info\">\r\n        <input\r\n          id=\"url-input\"\r\n          className=\"form__item form__item_link\"\r\n          type=\"url\"\r\n          name=\"link\"\r\n          placeholder=\"Ссылка на картинку\"\r\n          value={link}\r\n          onChange={handleAddLink}\r\n          required\r\n        />\r\n        <span id=\"url-input-error\" className=\"form__item-error\" />\r\n      </label>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default AddPlacePopup;\r\n","import React from \"react\";\r\nimport Header from \"./Header\";\r\nimport Main from \"./Main\";\r\nimport Footer from \"./Footer\";\r\nimport ImagePopup from \"./ImagePopup\";\r\nimport api from \"../utils/Api\";\r\nimport currentUserContext from \"../contexts/CurrentUserContext\";\r\nimport EditProfilePopup from \"./EditProfilePopup\";\r\nimport EditAvatarPopup from \"./EditAvatarPopup\";\r\nimport AddPlacePopup from \"./AddPlacePopup\";\r\n\r\nfunction App() {\r\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(\r\n    false\r\n  );\r\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\r\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState(\r\n    false\r\n  );\r\n  const [selectedCard, setSelectedCard] = React.useState({});\r\n  const [currentUser, setCurrentUser] = React.useState({});\r\n  const [cards, setCards] = React.useState([]);\r\n  const [isLoading, setIsLoading] = React.useState(false);\r\n\r\n  React.useEffect(() => {\r\n    Promise.all([api.getUserData(), api.getInitialCards()])\r\n      .then((values) => {\r\n        const [userData, initialCards] = values;\r\n        setCurrentUser({\r\n          name: userData.name,\r\n          about: userData.about,\r\n          avatar: userData.avatar,\r\n          _id: userData._id,\r\n        });\r\n        setCards(initialCards);\r\n      })\r\n      .catch((err) => {\r\n        console.log(`Ошибка: ${err}`);\r\n      });\r\n  }, []);\r\n\r\n  function handleAddPlaceSubmit(card) {\r\n    setIsLoading(true);\r\n    api\r\n      .addCards(card)\r\n      .then((newCard) => {\r\n        setIsLoading(false);\r\n        setCards([newCard, ...cards]);\r\n        closeAllPopups();\r\n      })\r\n      .catch((err) => {\r\n        console.log(`Ошибка: ${err}`);\r\n      });\r\n  }\r\n\r\n  function handleCardLike(card) {\r\n    const isLiked = card.likes.some((i) => i._id === currentUser._id);\r\n    api\r\n      .changeLikeCardStatus(card, !isLiked)\r\n      .then((newCard) => {\r\n        const newCards = cards.map((c) => (c._id === card._id ? newCard : c));\r\n        setCards(newCards);\r\n      })\r\n      .catch((err) => {\r\n        console.log(`Ошибка: ${err}`);\r\n      });\r\n  }\r\n\r\n  function handleCardDelete(card) {\r\n    api\r\n      .deleteCard(card)\r\n      .then(() => {\r\n        const newArr = cards.filter((i) => i._id !== card._id);\r\n        setCards(newArr);\r\n      })\r\n      .catch((err) => {\r\n        console.log(`Ошибка: ${err}`);\r\n      });\r\n  }\r\n\r\n  function handleUpdateUser(currentUser) {\r\n    setIsLoading(true);\r\n    api\r\n      .setUserInfo(currentUser)\r\n      .then((userData) => {\r\n        setIsLoading(false);\r\n        setCurrentUser(userData);\r\n        closeAllPopups();\r\n      })\r\n      .catch((err) => {\r\n        console.log(`Ошибка: ${err}`);\r\n      });\r\n  }\r\n\r\n  function handleUpdateAvatar(currentUser) {\r\n    setIsLoading(true);\r\n    api\r\n      .setUserAvatar(currentUser)\r\n      .then((userData) => {\r\n        setIsLoading(false);\r\n        setCurrentUser(userData);\r\n        closeAllPopups();\r\n      })\r\n      .catch((err) => {\r\n        console.log(`Ошибка: ${err}`);\r\n      });\r\n  }\r\n\r\n  function handleProfilePopup() {\r\n    setIsEditProfilePopupOpen(!isEditProfilePopupOpen);\r\n  }\r\n\r\n  function handlePlacePopupOpen() {\r\n    setIsAddPlacePopupOpen(!isAddPlacePopupOpen);\r\n  }\r\n\r\n  function handleAvatarPopupOpen() {\r\n    setIsEditAvatarPopupOpen(!isEditAvatarPopupOpen);\r\n  }\r\n\r\n  function closeAllPopups() {\r\n    setIsEditProfilePopupOpen();\r\n    setIsAddPlacePopupOpen();\r\n    setIsEditAvatarPopupOpen();\r\n    setSelectedCard({});\r\n\t}\r\n\t\r\n\tReact.useEffect(() => {\r\n    function handleESCclose(evt) {\r\n      if (evt.key === \"Escape\") {\r\n        closeAllPopups();\r\n      }\r\n    }\r\n\r\n    document.addEventListener('keydown', handleESCclose);\r\n    return () => {\r\n      document.removeEventListener('keydown', handleESCclose);\r\n    }\r\n  }, [])\r\n\r\n  return (\r\n    <currentUserContext.Provider value={currentUser}>\r\n      <Header />\r\n      <Main\r\n        onEditProfile={handleProfilePopup}\r\n        onEditAvatar={handleAvatarPopupOpen}\r\n        onAddPlace={handlePlacePopupOpen}\r\n        onCardClick={setSelectedCard}\r\n        name={currentUser.name}\r\n        onCardLike={handleCardLike}\r\n        onCardDelete={handleCardDelete}\r\n        cards={cards}\r\n      />\r\n      <Footer />\r\n      <EditProfilePopup\r\n        isOpen={isEditProfilePopupOpen}\r\n        onUpdateUser={handleUpdateUser}\r\n        onClose={closeAllPopups}\r\n        isLoading={isLoading}\r\n      />\r\n      <AddPlacePopup\r\n        isOpen={isAddPlacePopupOpen}\r\n        onAddPlace={handleAddPlaceSubmit}\r\n        onClose={closeAllPopups}\r\n        isLoading={isLoading}\r\n      />\r\n      <EditAvatarPopup\r\n        isOpen={isEditAvatarPopupOpen}\r\n        onUpdateAvatar={handleUpdateAvatar}\r\n        onClose={closeAllPopups}\r\n        isLoading={isLoading}\r\n      />\r\n      <ImagePopup card={selectedCard} onClose={closeAllPopups} />\r\n    </currentUserContext.Provider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./index.css\";\r\nimport App from \"./components/App.js\";\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n"],"sourceRoot":""}